puts "Emptying database"
  Game.destroy_all
  User.destroy_all

puts "Creating Users"
  albane = User.create! (
    {
    nickname: "albane",
    email: "albane@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/albane.jpg'
    }
  )
  alexis = User.create! (
    {
    nickname: "alexis",
    email: "alexis@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/alexis.jpg'
    }
  )
  aymeric = User.create! (
    {
    nickname: "aymeric",
    email: "aymeric@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/aymeric.jpg'
    }
  )
  ayoub = User.create! (
    {
    nickname: "ayoub",
    email: "ayoub@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/ayoub.jpg'
    }
  )
  caroline = User.create! (
    {
    nickname: "caroline",
    email: "caroline@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/caroline.jpg'
    }
  )
  chloe = User.create! (
    {
    nickname: "chloe",
    email: "chloe@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/chloe.jpg'
    }
  )
  david = User.create! (
    {
    nickname: "david",
    email: "david@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/david.jpg'
    }
  )
  deborah = User.create! (
    {
    nickname: "deborah",
    email: "deborah@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/deborah.jpg'
    }
  )
  eleonore = User.create! (
    {
    nickname: "eleonore",
    email: "eleonore@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/eleonore.jpg'
    }
  )
  emna = User.create! (
    {
    nickname: "emna",
    email: "emna@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/emna.jpg'
    }
  )
  francois = User.create! (
    {
    nickname: "francois",
    email: "francois@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/francois.jpg'
    }
  )
  germain = User.create! (
    {
    nickname: "germain",
    email: "germain@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/germain.jpg'
    }
  )
  hugo_ple = User.create! (
    {
    nickname: "hugo_ple",
    email: "hugo_ple@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/hugo_ple.jpg'
    }
  )
  hugo_raza = User.create! (
    {
    nickname: "hugo_raza",
    email: "hugo_raza@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/hugo_raza.jpg'
    }
  )
  jordi = User.create! (
    {
    nickname: "jordi",
    email: "jordi@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/jordi.jpg'
    }
  )
  julie = User.create! (
    {
    nickname: "julie",
    email: "julie@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/julie.jpg'
    }
  )
  leon = User.create! (
    {
    nickname: "leon",
    email: "leon@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/leon.jpg'
    }
  )
  maxime_berger = User.create! (
    {
    nickname: "maxime_berger",
    email: "maxime_berger@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/maxime_berger.jpg'
    }
  )
  maxime_legras = User.create! (
    {
    nickname: "maxime_legras",
    email: "maxime_legras@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/maxime_legras.jpg'
    }
  )
  nathan = User.create! (
    {
    nickname: "nathan",
    email: "nathan@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/nathan.jpg'
    }
  )
  nicolas = User.create! (
    {
    nickname: "nicolas",
    email: "nicolas@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/nicolas.jpg'
    }
  )
  nil_b = User.create! (
    {
    nickname: "nil_b",
    email: "nil@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/nil.jpg'
    }
  )
  ouramdane = User.create! (
    {
    nickname: "ouramdane",
    email: "ouramdane@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/ouramdane.jpg'
    }
  )
  arthur = User.create! (
    {
    nickname: "arthur",
    email: "arthur@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/arthur.jpg'
    }
  )
  pedro = User.create! (
    {
    nickname: "pedro",
    email: "pedro@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/pedro.jpg'
    }
  )
  matthieu = User.create! (
    {
    nickname: "matthieu",
    email: "matthieu@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/matthieu.jpg'
    }
  )
  kevin = User.create! (
    {
    nickname: "kevin",
    email: "kevin@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/kevin.jpg'
    }
  )
  joseph = User.create! (
    {
    nickname: "joseph",
    email: "joseph@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/joseph.jpg'
    }
  )
  boris = User.create! (
    {
    nickname: "boris",
    email: "boris@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/boris.jpg'
    }
  )
  dhh = User.create! (
    {
    nickname: "dhh",
    email: "dhh@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/dhh.jpg'
    }
  )
  tenderlove = User.create! (
    {
    nickname: "tenderlove",
    email: "tenderlove@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/tenderlove.jpg'
    }
  )
  toto = User.create! (
    {
    nickname: "toto",
    email: "toto@kickmybets.fun",
    password: "azertyuiop",
    picture_path: 'users/toto.jpg'
    }
  )

puts "Creating Contests"
  boulescarrees = Contest.create!(
    {
    picture_path: 'contests/boulescarrees.jpg',
    title: "Boules carrées",
    coins_init: 100,
    category: "cup",
    code: "eByTvh8ne",
    players_nb: 2,
    creator: arthur,
    players_attributes: [{name: "Toto"}, {name: "Titi"}]
    }
  )
  pingpong = Contest.create!(
    {
    picture_path: 'contests/pingpong.jpg',
    title: "Ping-Pong",
    coins_init: 100,
    category: "cup",
    code: "zEhv8YavQ",
    players_nb: 8,
    creator: matthieu,
    players_attributes: [{name: "eleonore"}, {name: "francois"}, {name: "tenderlove"}, {name: "kevin"}, {name: "toto"}, {name: "joseph"}, {name: "boris"}, {name: "matthieu"}]
    }
  )
  Contest.create!(
    {
    picture_path: 'contests/hotdog_contest.jpg',
    title: "Hot Dog contest",
    coins_init: 100,
    category: "cup",
    code: "LxYB7TdV",
    players_nb: 2,
    creator: arthur,
    players_attributes: [{name: "Toto"}, {name: "Titi"}]
    }
  )
  Contest.create!(
    {
    picture_path: 'contests/virtual_dance.jpg',
    title: "Dance Dance Revolution",
    coins_init: 100,
    category: "cup",
    code: "ihM8nuiy",
    players_nb: 2,
    creator: arthur,
    players_attributes: [{name: "Toto"}, {name: "Titi"}]
    }
  )
  Contest.create!(
    {
    picture_path: 'contests/dance.jpg',
    title: "Danse folklorique",
    coins_init: 100,
    category: "cup",
    code: "rq4HJtur",
    players_nb: 2,
    creator: arthur,
    players_attributes: [{name: "Toto"}, {name: "Titi"}]
    }
  )
  Contest.create!(
    {
    picture_path: 'contests/diabolo.jpg',
    title: "Diabolo entre potos",
    coins_init: 100,
    category: "cup",
    code: "TnuTkFz7",
    players_nb: 2,
    creator: arthur,
    players_attributes: [{name: "Toto"}, {name: "Titi"}]
    }
  )

puts "Updating players pictures"
  player_eleonore = Player.where(name: "eleonore").first
  player_matthieu = Player.where(name: "matthieu").first
  player_francois = Player.where(name: "francois").first
  player_joseph = Player.where(name: "joseph").first
  player_tenderlove = Player.where(name: "tenderlove").first
  player_kevin = Player.where(name: "kevin").first
  player_toto = Player.where(name: "toto").first
  player_boris = Player.where(name: "boris").first

  player_eleonore.update(picture_path: "users/eleonore.jpg")
  player_matthieu.update(picture_path: "users/matthieu.jpg")
  player_francois.update(picture_path: "users/francois.jpg")
  player_joseph.update(picture_path: "users/joseph.jpg")
  player_tenderlove.update(picture_path: "users/tenderlove.jpg")
  player_kevin.update(picture_path: "users/kevin.jpg")
  player_toto.update(picture_path: "users/toto.jpg")
  player_boris.update(picture_path: "users/boris.jpg")

puts "Overriding game grid"
  game_4_1 = Game.where(contest: pingpong).where(game_code: "100").first
  game_4_2 = Game.where(contest: pingpong).where(game_code: "101").first
  game_4_3 = Game.where(contest: pingpong).where(game_code: "110").first
  game_4_4 = Game.where(contest: pingpong).where(game_code: "111").first
  game_2_1 = Game.where(contest: pingpong).where(game_code: "10").first
  game_2_2 = Game.where(contest: pingpong).where(game_code: "11").first
  game_1_1 = Game.where(contest: pingpong).where(game_code: "1").first
  game_4_1.update(player_one: player_francois, player_two: player_matthieu)
  game_4_2.update(player_one: player_toto, player_two: player_joseph)
  game_4_3.update(player_one: player_boris, player_two: player_eleonore)
  game_4_4.update(player_one: player_kevin, player_two: player_tenderlove)

puts"Creating participations"
  participation_albane = Participation.create!(user: albane, contest: pingpong, betcoins: pingpong.coins_init)
  participation_alexis = Participation.create!(user: alexis, contest: pingpong, betcoins: pingpong.coins_init)
  participation_aymeric = Participation.create!(user: aymeric, contest: pingpong, betcoins: pingpong.coins_init)
  participation_ayoub = Participation.create!(user: ayoub, contest: pingpong, betcoins: pingpong.coins_init)
  participation_caroline = Participation.create!(user: caroline, contest: pingpong, betcoins: pingpong.coins_init)
  participation_chloe = Participation.create!(user: chloe, contest: pingpong, betcoins: pingpong.coins_init)
  participation_david = Participation.create!(user: david, contest: pingpong, betcoins: pingpong.coins_init)
  participation_deborah = Participation.create!(user: deborah, contest: pingpong, betcoins: pingpong.coins_init)
  participation_emna = Participation.create!(user: emna, contest: pingpong, betcoins: pingpong.coins_init)
  participation_germain = Participation.create!(user: germain, contest: pingpong, betcoins: pingpong.coins_init)
  participation_hugo_ple = Participation.create!(user: hugo_ple, contest: pingpong, betcoins: pingpong.coins_init)
  participation_hugo_raza = Participation.create!(user: hugo_raza, contest: pingpong, betcoins: pingpong.coins_init)
  participation_jordi = Participation.create!(user: jordi, contest: pingpong, betcoins: pingpong.coins_init)
  participation_julie = Participation.create!(user: julie, contest: pingpong, betcoins: pingpong.coins_init)
  participation_leon = Participation.create!(user: leon, contest: pingpong, betcoins: pingpong.coins_init)
  participation_maxime_berger = Participation.create!(user: maxime_berger, contest: pingpong, betcoins: pingpong.coins_init)
  participation_maxime_legras = Participation.create!(user: maxime_legras, contest: pingpong, betcoins: pingpong.coins_init)
  participation_nathan = Participation.create!(user: nathan, contest: pingpong, betcoins: pingpong.coins_init)
  participation_nicolas = Participation.create!(user: nicolas, contest: pingpong, betcoins: pingpong.coins_init)
  participation_nil_b = Participation.create!(user: nil_b, contest: pingpong, betcoins: pingpong.coins_init)
  participation_ouramdane = Participation.create!(user: ouramdane, contest: pingpong, betcoins: pingpong.coins_init)
  participation_pedro = Participation.create!(user: pedro, contest: pingpong, betcoins: pingpong.coins_init)
  participation_dhh = Participation.create!(user: dhh, contest: pingpong, betcoins: pingpong.coins_init)
  participation_arthur = Participation.create!(user: arthur, contest: boulescarrees, betcoins: boulescarrees.coins_init)


  participation_eleonore = Participation.create!(user: eleonore, contest: pingpong, betcoins: 0)
  participation_matthieu = Participation.create!(user: matthieu, contest: pingpong, betcoins: 0)
  participation_francois = Participation.create!(user: francois, contest: pingpong, betcoins: 0)
  participation_joseph = Participation.create!(user: joseph, contest: pingpong, betcoins: 0)
  participation_tenderlove = Participation.create!(user: tenderlove, contest: pingpong, betcoins: 0)
  participation_kevin = Participation.create!(user: kevin, contest: pingpong, betcoins: 0)
  participation_toto = Participation.create!(user: toto, contest: pingpong, betcoins: 0)
  participation_boris = Participation.create!(user: boris, contest: pingpong, betcoins: 0)

puts "Creating Events"
  event = Event.create!(
    participation: participation_nathan,
    title: "Matthieu va lâcher une larme à la fin du demoday",
    choice_one: "0 larme",
    choice_two: "Grosse larme"
  )

puts "Creating comments"
  Comment.create!(
    {
      resource: game_4_1,
      participation: participation_matthieu,
      content: "@all On m'applaudit bien fort !"
    }
  )
  Comment.create!(
    {
      resource: game_4_1,
      participation: participation_eleonore,
      content: "pas trop de déchets @francois où tu vas finir sur #Greenup"
    }
  )
  Comment.create!(
    {
      resource: game_4_2,
      participation: participation_nil_b,
      content: "@toto si tu cherches du boulot -> Taff'on!!"
    }
  )
  Comment.create!(
    {
      resource: game_4_2,
      participation: participation_toto,
      content: "@jpheos si je gagne tu me laisses moi et ma famille en paix. Et je te présente mon pote foo."
    }
  )
  Comment.create!(
    {
      resource: game_4_2,
      participation: participation_joseph,
      content: "c'est cool non ? allez standing ovation de fifous"
    }
  )
  Comment.create!(
    {
      resource: game_4_3,
      participation: participation_francois,
      content: "Borissss !!!"
    }
  )
  Comment.create!(
    {
      resource: game_4_3,
      participation: participation_eleonore,
      content: "Sérieux François ?"
    }
  )
  Comment.create!(
    {
      resource: game_4_3,
      participation: participation_david,
      content: "vous pouvez jouer un peu plus près ?"
    }
  )
  Comment.create!(
    {
      resource: game_4_3,
      participation: participation_julie,
      content: "chaud pour un jeu de société ? #prelude"
    }
  )
  Comment.create!(
    {
      resource: game_4_4,
      participation: participation_kevin,
      content: "@tenderlove mollo stp, je suis tombé en trotinette"
    }
  )
  Comment.create!(
    {
      resource: game_2_1,
      participation: participation_toto,
      content: "@jpheos je t'ai bien niqué"
    }
  )
  Comment.create!(
    {
      resource: game_2_1,
      participation: participation_aymeric,
      content: "@channel L'auteur de Quatorze (lauréat du prix du Village du Livre de Saint-Pierre-de-Clages... badass) présentera son livre à la librairie Raconte-moi la Terre Bellecour à partir de 18h30."
    }
  )
  Comment.create!(
    {
      resource: game_2_1,
      participation: participation_caroline,
      content: "@franswé merge lui la tronche"
    }
  )
  Comment.create!(
    {
      resource: game_2_2,
      participation: participation_kevin,
      content: "allé ley vert lol"
    }
  )
  Comment.create!(
    {
      resource: game_2_2,
      participation: participation_kevin,
      content: "ptdr tmtc"
    }
  )
  Comment.create!(
    {
      resource: game_2_2,
      participation: participation_dhh,
      content: "poor style..."
    }
  )
  Comment.create!(
    {
      resource: game_2_2,
      participation: participation_albane,
      content: "pas dispo, je vais faire une demande de switch #simya"
    }
  )
  Comment.create!(
    {
      resource: game_1_1,
      participation: participation_joseph,
      content: "astuce de dev : ça c'est super important"
    }
  )
  Comment.create!(
    {
      resource: game_1_1,
      participation: participation_maxime_berger,
      content: " @françois, évite le fail #thefridge"
    }
  )
  Comment.create!(
    {
      resource: game_1_1,
      participation: participation_boris,
      content: "come on @francois, I need you to focus"
    }
  )
  Comment.create!(
    {
      resource: game_1_1,
      participation: participation_francois,
      content: "@boris on rail"
    }
  )

puts "Creating bets"
  bet_participations = Participation.where(contest: pingpong).where('betcoins > 10')
  Game.all.each do |game|
    puts ">> Creating for #{game}..."
    bet_participations.sample(10).each do |participation|
      Bet.create!(resource: game, amount: rand(1..10), participation: participation, choice: rand(1..2))
    end
  end
puts "#{Bet.count} bets randomly created"
puts "All finished"
