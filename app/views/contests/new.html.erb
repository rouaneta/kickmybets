<h1>New contests</h1>
<%= link_to "back to dashboard", dashboard_path %>

<%= simple_form_for @contest do |f| %>
  <%= f.input :category, as: :radio_buttons, collection: ['cup', 'league'] %>
  <%= f.input :title, placeholder: 'Tournoi de la mort' %>
  <%= f.input :description %>
  <%#= f.input :creator_id, as: :hidden, input_HTML: {value: current_user.id} %>
  <%= f.hidden_field :creator_id, value: current_user.id %>
  <%= f.hidden_field :code, value: @code %>
  <%= f.input :players_nb, collection: [2, 4, 8, 16, 32, 64], id: 'players-nb' %>

  <div id="players-fields">

  </div>
  <!-- <input type="text" name="contest[players_attributes][][name]">
  <input type="text" name="contest[players_attributes][][name]">
   --><%# .js will generate n fields to enter players name %>
  <%= f.input :coins_init %>
  <%= f.submit %>
<% end %>

<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  generate code !
</button>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">invitation code</h4>
      </div>
      <div class="modal-body">
        <label for="truc"><%= @contest.code %></label>
      </div>
    </div>
  </div>
</div>
